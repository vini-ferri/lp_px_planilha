<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Página Informações</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="form" id="form_section">
        <form id="clientForm">
            <fieldset>
                <legend><b>Fórmulário de Clientes</b></legend>
                <div class="input_form">
                    <input type="text" name="name" id="name" class="input_user" required>
                    <label for="name" class="label_input">Nome completo</label>
                </div>
                <div class="input_form">
                    <input type="email" name="email" id="email" class="input_user" required>
                    <label for="email" class="label_input">Email</label>
                </div>
                <div class="input_form">
                    <input type="tel" name="phone" id="phone" class="input_user" required>
                    <label for="phone" class="label_input">Telefone</label>
                </div>
                <div class="input_form">
                    <input type="text" name="company" id="company" class="input_user">
                    <label for="company" class="label_input">Empresa</label>
                </div>
                <div class="input_form">
                    <label for="position" class="label_input">Seu Cargo</label>
                    <select name="position" id="position" required>
                        <option value="">Selecione</option>
                        <option value="driver">Motorista</option>
                        <option value="fleet_manager">Gestor de Frota</option>
                        <option value="hr">RH</option>
                        <option value="logistics_director">Diretor de Logística</option>
                        <option value="owner">Proprietário</option>
                    </select>
                </div>
                <div class="input_form">
                    <label for="truck_quantity"><b>Quantidade de caminhões</b></label>
                    <input type="number" name="truck_quantity" id="truck_quantity">
                </div>
                <div class="input_form">
                    <input type="text" name="state" id="state" class="input_user">
                    <label for="state" class="label_input">UF</label>
                </div>
                <div class="input_form">
                    <input type="text" name="city" id="city" class="input_user">
                    <label for="city" class="label_input">Cidade</label>
                </div>
                <button type="submit">Enviar</button>
            </fieldset>
        </form>
        <p id="responseMessage"></p>
    </div>

    <script>
        document.getElementById("clientForm").addEventListener("submit", function(event) {
            event.preventDefault();
            const formData = new FormData(this);
            const jsonData = {};
            formData.forEach((value, key) => { jsonData[key] = value; });
            
            fetch("https://script.google.com/macros/s/AKfycbzvhB1eQKEu1xUw0_0ZfKXtcK-bUav6l_0jRug-BYiGexbpHJu-y9GQFV10269sSw2H/exec", {
                method: "POST",
                mode: "no-cors",  // Evita erro de CORS
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify(jsonData)
            })
                .then(() => {
                    document.getElementById("responseMessage").innerText = "Dados enviados com sucesso!";
                    document.getElementById("clientForm").reset();
                })
                .catch(() => {
                    document.getElementById("responseMessage").innerText = "Erro ao enviar os dados.";
                });
        });
    </script>
</body>
</html>
